---
title: "开发机环境搭建记录"
date: 2018-11-10T20:20:41+08:00
lastmod: 2018-11-10T20:20:41+08:00
draft: false
tags: ["dev", "env", "proxy", "vnc", "samba"]
categories: ["tool"]
mathjax: false
---

本文主要记录开发机环境搭建的流水。  
<!--more-->

# 创建用户
创建普通用户`edward`, 避免以`root`身份误操作。  
```sh
useradd edward -d /data/home/edward -m
passwd edward
```
用户的home目录需要确保空间足够。  

# dot files
- ~/.bash_profile  
```sh
export LC_ALL="zh_CN.utf8" 
export LANG="$LC_ALL"
```
待补充。。。  

# 字体
安装适合程序员的字体，比如说 `Source Code Pro`, 更纱字体, `Fira Mono` 等。  
偷懒一点可以通过yum安装:  
```sh
yum install -y adobe-source-code-pro-fonts
```
如果想安装最新的 [Source Code Pro](https://github.com/adobe-fonts/source-code-pro/releases) ,
[更纱字体](https://github.com/be5invis/Sarasa-Gothic/releases) 或者其他字体：  
```sh
字体复制到 /usr/share/fonts/ 目录
fc-cache
```

# 代理
有些公司需要通过设置代理才能访问外网。  
可以在 `/etc/profile` 设置代理：  
```sh
http_proxy=dev-proxy.oa.com:8080
https_proxy=dev-proxy.oa.com:8080
no_proxy="localhost,*.oa.com"

export http_proxy https_proxy no_proxy
```

# 国内镜像源
更换yum的镜像源为国内镜像源。  
如果不能访问外网的话就使用公司内的镜像源。  
这里使用 [腾讯软件源](https://mirrors.cloud.tencent.com) , 具体可以参考 [CentOS镜像源](https://mirrors.cloud.tencent.com/help/centos.html) 的使用说明。  
```sh
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.cloud.tencent.com/repo/centos7_base.repo
yum clean all
yum makecache

yum update --skip-broken
```

# vnc
具体可以参考 [通过vnc控制linux开发机](/post/通过vnc控制linux开发机/) 的说明。  
通过 [noVNC](https://github.com/novnc/noVNC) 还可以在家通过浏览器远程控制开发机。  

# samba
samba主要作用是方便文件的同步。  

- 安装  
  ```sh
  yum install -y samba
  ```
- 设置密码  
  ```sh
  smbpasswd -a 你的用户名
  ```
- 配置 `/etc/samba/smb.conf`   
  ```
  [homes]
        comment = Home Directories
        browseable = yes
        writable = yes

        create mask = 0664
  ```
- 启动smb服务  
  ```sh
  systemctl start smb
  systemctl enable smb
  ```
- 连接使用  
  Windows在资源管理器输入 `\\开发机IP地址` 并输入用户名和密码即可。  
  为了方便日后使用，可以在"我的电脑"右击选择"映射网络驱动器"映射为网络文件夹。  
  Mac的处理类似，在访达选择"前往"->"连接服务器"，连接成功可以收藏。  

# SSH免密登录
具体可以参考 [SSH免密登录](/post/ssh免密登录/) 的说明。  
不过使用终端软件(xshell, PuTTY等)也是可以的。  

# IDE
主要使用vscode、spacemacs、vim，偶尔用用JetBrains系列。  
先记录，后续有空再补充。  

- vscode  
  主力写代码。  
  通过 [vscode remote](https://code.visualstudio.com/docs/remote/remote-overview) 可以在家远程开发。  
- spacemacs  
  目前主要用来写博文，具体可以参考 [通用代码编辑器Spacemacs](/post/通用代码编辑器spacemacs/)
- vim  
  主要用来看服务器的日志，按键还是比较简短、方便的。  
- JetBrains系列  
  小项目还可以，比较耗内存、响应稍慢、要收费，不适合大项目。  

# docker
这个主要用来制作不同编译环境的镜像，代码以volume挂载，这样就可以在一台开发机上编码、编译。  

- 安装  
  https://download.docker.com/linux/static/stable/x86_64/
- 新建docker组  
  ```sh
  groupadd docker
  usermod -aG docker 你的用户名
  ```
- ...  

先记录，后续有空再补充。  
